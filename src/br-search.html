<link rel="import" type="html" href="../../br-select-box/src/br-select-box.html">

<dom-module id="br-search">

<link rel="import" type="css" href="../dist/css/br-search.min.css">

<template>

  <button class="header--btn close_search" on-click="_close">
    <br-icons icon="br-icons:arrow-back"></br-icons>
  </button>

  <button class="btn__search" on-click="_open">
    <br-icons icon="br-icons:search"></br-icons>
  </button>

  <input type="text" class="input__search" placeholder="Busque por um cliente para visualizar sua carteira" on-focus="_open">

  <div class="overlay" on-click="_close"></div>

  <div class="content">

    <ul class="list">
      <template is="dom-repeat" items="{{options}}">
        <li>
          <a href="{{item.link}}">{{item.label}}</a>
        </li>
      </template>
    </ul>

  </div>

</template>

<script>
  Polymer({
    is: 'br-search',

    properties: {
      options: {
        type: Array,
        value: []
      }
    },

    _open: function ( event ) {
      this.classList.add( 'open' );
      this.$$( 'input' ).focus();
      this._toggleSearch();
    },

    _close: function(event) {
      this.classList.remove( 'open' );
      this._toggleSearch();
    },

    _toggleSearch: function () {
      document.querySelector( 'br-header' ).classList.toggle( 'search_opened' );
    }

  });
</script>

</dom-module>